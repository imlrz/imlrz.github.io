<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0a1628" id="meta-theme">
    <title>李睿哲 (Ruizhe Li) - Personal Website</title>
    <style>
        /* ═══════════════════════════════════════════
           CSS Custom Properties – Dark (default)
           ═══════════════════════════════════════════ */
        :root {
            --bg: #0a1628;
            --card-bg: rgba(22, 38, 70, 0.55);
            --card-shadow: none;
            --accent: #fde68a;
            --accent-rgb: 253, 230, 138;
            --text-1: #e8e0d0;
            --text-2: rgba(232, 224, 208, 0.78);
            --text-3: rgba(232, 224, 208, 0.6);
            --text-4: rgba(232, 224, 208, 0.4);
            --text-5: rgba(232, 224, 208, 0.3);
            --sil-1: #0e1726;
            --sil-2: #080d16;
        }

        /* ── Light theme overrides ── */
        [data-theme="light"] {
            --bg: #f8f3eb;
            --card-bg: rgba(255, 255, 255, 0.78);
            --card-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);
            --accent: #795813;
            --accent-rgb: 121, 88, 19;
            --text-1: #1e293b;
            --text-2: #475569;
            --text-3: #64748b;
            --text-4: #94a3b8;
            --text-5: #b0bac9;
            --sil-1: #d9cfbe;
            --sil-2: #c8bba4;
        }

        /* ═══════════════════════════════════════════
           Reset & Base
           ═══════════════════════════════════════════ */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: Georgia, 'Times New Roman', serif;
            background: var(--bg);
            color: var(--text-1);
            overflow-x: hidden;
            opacity: 0;
            transition: background-color 0.6s ease;
        }

        body.loaded {
            opacity: 1;
            transition: opacity 0.4s ease, background-color 0.6s ease;
        }

        /* Chinese font */
        [data-lang="zh"] body {
            font-family: 'STSong', 'SimSun', 'Songti SC', Georgia, serif;
        }

        /* ═══════════════════════════════════════════
           Canvas
           ═══════════════════════════════════════════ */
        #starry-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            pointer-events: none;
            transition: opacity 0.8s ease;
        }

        [data-theme="light"] #starry-canvas {
            opacity: 0.15;
        }

        /* ═══════════════════════════════════════════
           Controls Bar
           ═══════════════════════════════════════════ */
        .controls {
            position: fixed;
            top: 24px;
            right: 24px;
            z-index: 100;
            display: flex;
            gap: 10px;
            animation: fadeSlideDown 1s ease 1s both;
            user-select: none;
        }

        @keyframes fadeSlideDown {
            from { opacity: 0; transform: translateY(-14px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        .ctrl-btn {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            border: 1px solid rgba(var(--accent-rgb), 0.22);
            background: var(--card-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            color: var(--accent);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.82rem;
            font-weight: 600;
            font-family: inherit;
            transition: transform 0.3s, border-color 0.3s, box-shadow 0.3s,
                        background-color 0.6s, color 0.6s;
            outline: none;
        }

        .ctrl-btn:hover {
            transform: scale(1.1);
            border-color: rgba(var(--accent-rgb), 0.45);
            box-shadow: 0 0 20px rgba(var(--accent-rgb), 0.1);
        }

        .ctrl-btn:active {
            transform: scale(0.93);
        }

        .ctrl-btn:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        .ctrl-btn svg {
            width: 18px;
            height: 18px;
            stroke: var(--accent);
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            transition: stroke 0.6s ease, transform 0.3s ease;
        }

        .ctrl-btn:hover svg {
            transform: rotate(18deg);
        }

        /* ═══════════════════════════════════════════
           Hero Section
           ═══════════════════════════════════════════ */
        .hero {
            position: relative;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1;
            overflow: hidden;
            pointer-events: none;
        }

        .hero-content {
            text-align: center;
            will-change: transform, opacity;
        }

        .hero h1 {
            font-family: 'Brush Script MT', 'Segoe Script', cursive;
            font-size: clamp(4rem, 12vw, 11rem);
            font-weight: 300;
            color: var(--accent);
            text-shadow:
                0 0 60px rgba(var(--accent-rgb), 0.25),
                0 0 120px rgba(var(--accent-rgb), 0.08);
            letter-spacing: 0.04em;
            line-height: 1.1;
            animation: heroFadeIn 1.8s ease both;
            transition: color 0.6s ease, text-shadow 0.6s ease;
        }

        [data-lang="zh"] .hero h1 {
            font-family: 'STKaiti', 'KaiTi', 'Kaiti SC', serif;
            font-size: clamp(3.5rem, 10vw, 9rem);
            font-weight: 400;
            letter-spacing: 0.12em;
        }

        .hero-subtitle {
            font-size: clamp(0.85rem, 1.8vw, 1.15rem);
            color: var(--text-4);
            font-weight: 400;
            letter-spacing: 0.35em;
            text-transform: uppercase;
            margin-top: 16px;
            animation: heroFadeIn 1.8s ease 0.4s both;
            transition: color 0.6s ease;
        }

        [data-lang="zh"] .hero-subtitle {
            text-transform: none;
            letter-spacing: 0.25em;
        }

        @keyframes heroFadeIn {
            from { opacity: 0; transform: translateY(28px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 44px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            animation: heroFadeIn 1.6s ease 1.2s both;
        }

        .scroll-indicator span {
            font-size: 0.7rem;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: var(--text-4);
            transition: color 0.6s ease;
        }

        [data-lang="zh"] .scroll-indicator span {
            text-transform: none;
            letter-spacing: 0.15em;
        }

        .scroll-arrow {
            width: 20px; height: 20px;
            border-right: 1.5px solid rgba(var(--accent-rgb), 0.5);
            border-bottom: 1.5px solid rgba(var(--accent-rgb), 0.5);
            transform: rotate(45deg);
            animation: bounceArrow 2.4s ease infinite;
        }

        @keyframes bounceArrow {
            0%, 100% { transform: rotate(45deg) translateY(0); opacity: 0.6; }
            50%      { transform: rotate(45deg) translateY(8px); opacity: 1; }
        }

        /* Village silhouette */
        .silhouette {
            position: absolute;
            bottom: -1px; left: 0;
            width: 100%;
            z-index: 2;
            pointer-events: none;
        }

        .silhouette path:first-of-type {
            fill: var(--sil-1);
            transition: fill 0.8s ease;
        }

        .silhouette path:last-of-type {
            fill: var(--sil-2);
            transition: fill 0.8s ease;
        }

        /* ═══════════════════════════════════════════
           Main Content
           ═══════════════════════════════════════════ */
        .main-content {
            position: relative;
            z-index: 1;
            max-width: 780px;
            margin: 0 auto;
            padding: 60px 20px 40px;
        }

        /* Glassmorphism Card */
        .card {
            background: var(--card-bg);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(var(--accent-rgb), 0.12);
            border-radius: 18px;
            padding: 44px 40px;
            margin-bottom: 36px;
            box-shadow: var(--card-shadow);
            /* Reveal animation */
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.9s cubic-bezier(.23,1,.32,1),
                        transform 0.9s cubic-bezier(.23,1,.32,1),
                        border-color 0.4s, box-shadow 0.4s,
                        background-color 0.6s ease;
        }

        .card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .card:hover {
            border-color: rgba(var(--accent-rgb), 0.25);
            box-shadow: var(--card-shadow), 0 0 40px rgba(var(--accent-rgb), 0.04);
        }

        [data-theme="light"] .card:hover {
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
        }

        .card-title {
            font-size: 1.4rem;
            color: var(--accent);
            letter-spacing: 0.12em;
            text-transform: uppercase;
            margin-bottom: 28px;
            position: relative;
            padding-bottom: 14px;
            transition: color 0.6s ease;
        }

        [data-lang="zh"] .card-title {
            text-transform: none;
            letter-spacing: 0.08em;
        }

        .card-title::after {
            content: '';
            position: absolute;
            bottom: 0; left: 0;
            width: 52px; height: 2px;
            background: linear-gradient(to right, var(--accent), transparent);
        }

        /* Experience item */
        .exp-item {
            margin-bottom: 28px;
            padding-left: 20px;
            border-left: 2px solid rgba(var(--accent-rgb), 0.15);
            transition: border-color 0.6s ease;
        }

        .exp-item:last-child { margin-bottom: 0; }

        .exp-item h3 {
            font-size: 1.05rem;
            color: var(--accent);
            margin-bottom: 4px;
            font-weight: 600;
            transition: color 0.6s ease;
        }

        .exp-item .role {
            font-size: 0.88rem;
            color: var(--text-3);
            margin-bottom: 8px;
            font-style: italic;
            transition: color 0.6s ease;
        }

        .exp-item p {
            font-size: 0.92rem;
            line-height: 1.7;
            color: var(--text-2);
            transition: color 0.6s ease;
        }

        /* Skill tags */
        .skill-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            list-style: none;
        }

        .skill-tags li {
            background: rgba(var(--accent-rgb), 0.08);
            border: 1px solid rgba(var(--accent-rgb), 0.18);
            color: var(--accent);
            padding: 8px 22px;
            border-radius: 28px;
            font-size: 0.88rem;
            transition: background 0.3s, transform 0.3s,
                        color 0.6s ease, border-color 0.6s ease;
            cursor: default;
        }

        .skill-tags li:hover {
            background: rgba(var(--accent-rgb), 0.18);
            transform: translateY(-2px);
        }

        /* Activity list */
        .activity-list {
            list-style: none;
        }

        .activity-list li {
            padding: 14px 0;
            border-bottom: 1px solid rgba(var(--accent-rgb), 0.06);
            font-size: 0.92rem;
            line-height: 1.7;
            color: var(--text-2);
            transition: color 0.6s ease, border-color 0.6s ease;
        }

        .activity-list li:last-child { border-bottom: none; }

        .activity-list li::before {
            content: '\2726';
            color: var(--accent);
            margin-right: 12px;
            font-size: 0.65rem;
            vertical-align: middle;
        }

        /* Footer */
        footer {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 48px 20px;
            color: var(--text-5);
            font-size: 0.82rem;
            letter-spacing: 0.05em;
            transition: color 0.6s ease;
        }

        /* i18n text fade */
        [data-i18n] {
            transition: opacity 0.2s ease;
        }

        /* ═══════════════════════════════════════════
           Responsive
           ═══════════════════════════════════════════ */
        @media (max-width: 768px) {
            .card { padding: 28px 22px; }
            .main-content { padding: 36px 14px; }
            .controls { top: 16px; right: 16px; gap: 8px; }
            .ctrl-btn { width: 38px; height: 38px; font-size: 0.75rem; }
            .ctrl-btn svg { width: 16px; height: 16px; }
        }
    </style>

    <!-- Early theme & language init (prevents FOUC) -->
    <script>
        (function () {
            var t = localStorage.getItem('theme');
            if (t !== 'light' && t !== 'dark')
                t = window.matchMedia('(prefers-color-scheme:light)').matches ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', t);

            var l = localStorage.getItem('lang');
            if (l !== 'zh' && l !== 'en') l = 'en';
            document.documentElement.setAttribute('data-lang', l);
            document.documentElement.lang = l === 'zh' ? 'zh-CN' : 'en';
        })();
    </script>
</head>
<body>

    <!-- ── Controls ── -->
    <div class="controls">
        <button class="ctrl-btn" id="lang-btn" type="button" aria-label="Switch language">
            <span id="lang-label">中</span>
        </button>
        <button class="ctrl-btn" id="theme-btn" type="button" aria-label="Switch theme">
            <!-- Sun icon (shown in dark mode → switch to light) -->
            <svg id="icon-sun" viewBox="0 0 24 24" style="display:none">
                <circle cx="12" cy="12" r="5"/>
                <line x1="12" y1="1" x2="12" y2="3"/>
                <line x1="12" y1="21" x2="12" y2="23"/>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                <line x1="1" y1="12" x2="3" y2="12"/>
                <line x1="21" y1="12" x2="23" y2="12"/>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
            <!-- Moon icon (shown in light mode → switch to dark) -->
            <svg id="icon-moon" viewBox="0 0 24 24" style="display:none">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
        </button>
    </div>

    <canvas id="starry-canvas"></canvas>

    <!-- ── Hero ── -->
    <section class="hero" id="hero">
        <div class="hero-content" id="hero-content">
            <h1 data-i18n="heroName">Ruizhe Li</h1>
            <p class="hero-subtitle" data-i18n="heroSub">USTC &middot; AI &amp; Data Science</p>
        </div>

        <div class="scroll-indicator" id="scroll-indicator">
            <span data-i18n="scroll">Scroll to Explore</span>
            <div class="scroll-arrow"></div>
        </div>

        <!-- Village / hills silhouette -->
        <svg class="silhouette" viewBox="0 0 1440 220" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0,220 L0,155 Q120,125 240,145 Q360,165 480,135 Q560,115 680,130
                     Q800,145 920,115 Q1020,90 1120,125 Q1260,160 1380,140 L1440,148 L1440,220Z"
                  fill="#0e1726"/>
            <path d="M0,220 L0,178
                     L80,178 L80,155 L86,140 L92,155 L92,178
                     L200,180 L200,165 L212,165 L212,180
                     L340,182 L340,128 L344,108 L348,128 L348,182
                     L480,184 L480,168 L496,168 L496,184
                     L640,186 L720,183 L720,160 L728,150 L736,160 L736,183
                     L880,186 L920,184 L920,170 L936,170 L936,184
                     L1080,186 L1080,172 L1088,162 L1096,172 L1096,186
                     L1260,188 L1360,186 L1440,188 L1440,220Z"
                  fill="#080d16"/>
        </svg>
    </section>

    <!-- ── Content ── -->
    <main class="main-content">
        <div class="card">
            <div class="card-title" data-i18n="eduTitle">Education</div>
            <div class="exp-item">
                <h3 data-i18n="eduSchool">University of Science and Technology of China</h3>
                <div class="role" data-i18n="eduRole">B.S., School of Artificial Intelligence and Data Science</div>
                <p data-i18n="eduLoc">Hefei, China</p>
            </div>
        </div>

        <div class="card">
            <div class="card-title" data-i18n="expTitle">Experiences</div>
            <div class="exp-item">
                <h3 data-i18n="exp1Name">Facial Expression Recognition</h3>
                <div class="role" data-i18n="exp1Role">Algorithm Engineer, USTC</div>
                <p data-i18n="exp1Desc">Conducted extensive research on facial expression recognition datasets and implemented deep learning algorithms.</p>
            </div>
            <div class="exp-item">
                <h3 data-i18n="exp2Name">Literature Review &amp; Paper Illustration</h3>
                <div class="role" data-i18n="exp2Role">Assistant, Lab for Data Science, USTC</div>
                <p data-i18n="exp2Desc">Conducted literature reviews and created illustrations for research papers.</p>
            </div>
            <div class="exp-item">
                <h3 data-i18n="exp3Name">Restaurant Review System</h3>
                <div class="role" data-i18n="exp3Role">Team Leader, Database System Course Design, USTC</div>
                <p data-i18n="exp3Desc">Led a team in designing and implementing a comprehensive database system.</p>
            </div>
        </div>

        <div class="card">
            <div class="card-title" data-i18n="skillTitle">Skills</div>
            <ul class="skill-tags">
                <li>C</li>
                <li>Python</li>
                <li>LaTeX</li>
                <li>Markdown</li>
            </ul>
        </div>

        <div class="card">
            <div class="card-title" data-i18n="actTitle">Leadership &amp; Activities</div>
            <ul class="activity-list">
                <li data-i18n="act1">President, Student Union, School of AI and Data Science</li>
                <li data-i18n="act2">Member, Tang Zhongying Charity Society</li>
            </ul>
        </div>
    </main>

    <footer>
        <p data-i18n="footer">&copy; 2024 李睿哲 (Ruizhe Li). All rights reserved.</p>
    </footer>

    <script src="starry-night.js"></script>
    <script>
        /* ════════════════════════════════════════════
           Translations
           ════════════════════════════════════════════ */
        const T = {
            en: {
                heroName:  'Ruizhe Li',
                heroSub:   'USTC \u00b7 AI & Data Science',
                scroll:    'Scroll to Explore',
                eduTitle:  'Education',
                eduSchool: 'University of Science and Technology of China',
                eduRole:   'B.S., School of Artificial Intelligence and Data Science',
                eduLoc:    'Hefei, China',
                expTitle:  'Experiences',
                exp1Name:  'Facial Expression Recognition',
                exp1Role:  'Algorithm Engineer, USTC',
                exp1Desc:  'Conducted extensive research on facial expression recognition datasets and implemented deep learning algorithms.',
                exp2Name:  'Literature Review & Paper Illustration',
                exp2Role:  'Assistant, Lab for Data Science, USTC',
                exp2Desc:  'Conducted literature reviews and created illustrations for research papers.',
                exp3Name:  'Restaurant Review System',
                exp3Role:  'Team Leader, Database System Course Design, USTC',
                exp3Desc:  'Led a team in designing and implementing a comprehensive database system.',
                skillTitle:'Skills',
                actTitle:  'Leadership & Activities',
                act1:      'President, Student Union, School of AI and Data Science',
                act2:      'Member, Tang Zhongying Charity Society',
                footer:    '\u00a9 2024 \u674e\u777f\u54f2 (Ruizhe Li). All rights reserved.',
            },
            zh: {
                heroName:  '\u674e\u777f\u54f2',
                heroSub:   '\u4e2d\u56fd\u79d1\u5b66\u6280\u672f\u5927\u5b66 \u00b7 \u4eba\u5de5\u667a\u80fd\u4e0e\u6570\u636e\u79d1\u5b66',
                scroll:    '\u5411\u4e0b\u6eda\u52a8\u6d4f\u89c8',
                eduTitle:  '\u6559\u80b2\u80cc\u666f',
                eduSchool: '\u4e2d\u56fd\u79d1\u5b66\u6280\u672f\u5927\u5b66',
                eduRole:   '\u7406\u5b66\u5b66\u58eb\uff0c\u4eba\u5de5\u667a\u80fd\u4e0e\u6570\u636e\u79d1\u5b66\u5b66\u9662',
                eduLoc:    '\u4e2d\u56fd \u5408\u80a5',
                expTitle:  '\u9879\u76ee\u7ecf\u5386',
                exp1Name:  '\u4eba\u8138\u8868\u60c5\u8bc6\u522b',
                exp1Role:  '\u7b97\u6cd5\u5de5\u7a0b\u5e08\uff0c\u4e2d\u56fd\u79d1\u5b66\u6280\u672f\u5927\u5b66',
                exp1Desc:  '\u5bf9\u4eba\u8138\u8868\u60c5\u8bc6\u522b\u6570\u636e\u96c6\u8fdb\u884c\u4e86\u5e7f\u6cdb\u7814\u7a76\uff0c\u5e76\u5b9e\u73b0\u4e86\u6df1\u5ea6\u5b66\u4e60\u7b97\u6cd5\u3002',
                exp2Name:  '\u6587\u732e\u7efc\u8ff0\u4e0e\u8bba\u6587\u63d2\u56fe',
                exp2Role:  '\u52a9\u7406\u7814\u7a76\u5458\uff0c\u6570\u636e\u79d1\u5b66\u5b9e\u9a8c\u5ba4\uff0c\u4e2d\u56fd\u79d1\u5b66\u6280\u672f\u5927\u5b66',
                exp2Desc:  '\u8d1f\u8d23\u6587\u732e\u7efc\u8ff0\u64b0\u5199\u53ca\u7814\u7a76\u8bba\u6587\u63d2\u56fe\u5236\u4f5c\u3002',
                exp3Name:  '\u9910\u5385\u70b9\u8bc4\u7cfb\u7edf',
                exp3Role:  '\u56e2\u961f\u8d1f\u8d23\u4eba\uff0c\u6570\u636e\u5e93\u7cfb\u7edf\u8bfe\u7a0b\u8bbe\u8ba1\uff0c\u4e2d\u56fd\u79d1\u5b66\u6280\u672f\u5927\u5b66',
                exp3Desc:  '\u5e26\u9886\u56e2\u961f\u8bbe\u8ba1\u5e76\u5b9e\u73b0\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u6570\u636e\u5e93\u7cfb\u7edf\u3002',
                skillTitle:'\u6280\u80fd',
                actTitle:  '\u9886\u5bfc\u529b\u4e0e\u793e\u56e2\u6d3b\u52a8',
                act1:      '\u4eba\u5de5\u667a\u80fd\u4e0e\u6570\u636e\u79d1\u5b66\u5b66\u9662\u5b66\u751f\u4f1a\u4e3b\u5e2d',
                act2:      '\u5510\u4ef2\u82f1\u7231\u5fc3\u793e\u6210\u5458',
                footer:    '\u00a9 2024 \u674e\u777f\u54f2. \u4fdd\u7559\u6240\u6709\u6743\u5229\u3002',
            }
        };

        /* ════════════════════════════════════════════
           State
           ════════════════════════════════════════════ */
        let currentLang  = document.documentElement.getAttribute('data-lang')  || 'en';
        let currentTheme = document.documentElement.getAttribute('data-theme') || 'dark';

        /* ════════════════════════════════════════════
           Language Switching
           ════════════════════════════════════════════ */
        function applyLang(lang) {
            currentLang = lang;
            const dict = T[lang];

            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (dict[key] !== undefined) el.textContent = dict[key];
            });

            document.documentElement.setAttribute('data-lang', lang);
            document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';
            document.title = lang === 'zh'
                ? '\u674e\u777f\u54f2 - \u4e2a\u4eba\u4e3b\u9875'
                : '\u674e\u777f\u54f2 (Ruizhe Li) - Personal Website';

            // Button label: show what you CAN switch to
            document.getElementById('lang-label').textContent = lang === 'en' ? '\u4e2d' : 'EN';
            localStorage.setItem('lang', lang);
        }

        function toggleLang() {
            const els = document.querySelectorAll('[data-i18n]');
            els.forEach(el => el.style.opacity = '0');
            setTimeout(() => {
                applyLang(currentLang === 'en' ? 'zh' : 'en');
                els.forEach(el => el.style.opacity = '1');
            }, 220);
        }

        /* ════════════════════════════════════════════
           Theme Switching
           ════════════════════════════════════════════ */
        function applyTheme(theme) {
            currentTheme = theme;
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);

            // Meta theme-color for mobile browsers
            const metaEl = document.getElementById('meta-theme');
            if (metaEl) metaEl.content = theme === 'light' ? '#f8f3eb' : '#0a1628';

            // Toggle icon: show what you CAN switch to
            document.getElementById('icon-sun').style.display  = theme === 'dark'  ? 'block' : 'none';
            document.getElementById('icon-moon').style.display = theme === 'light' ? 'block' : 'none';
        }

        function toggleTheme() {
            applyTheme(currentTheme === 'dark' ? 'light' : 'dark');
        }

        /* ════════════════════════════════════════════
           Event Listeners
           ════════════════════════════════════════════ */
        document.getElementById('lang-btn').addEventListener('click', toggleLang);
        document.getElementById('theme-btn').addEventListener('click', toggleTheme);

        // Listen for OS theme changes (when user hasn't manually chosen)
        window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', e => {
            if (!localStorage.getItem('theme')) {
                applyTheme(e.matches ? 'light' : 'dark');
            }
        });

        /* ════════════════════════════════════════════
           Hero Parallax
           ════════════════════════════════════════════ */
        const heroContent = document.getElementById('hero-content');
        const scrollIndEl = document.getElementById('scroll-indicator');

        window.addEventListener('scroll', () => {
            const y  = window.scrollY;
            const vh = window.innerHeight;
            const p  = Math.min(y / (vh * 0.55), 1);

            heroContent.style.opacity   = 1 - p;
            heroContent.style.transform = `translateY(${-y * 0.35}px)`;
            scrollIndEl.style.opacity   = 1 - p * 4;
        }, { passive: true });

        /* ════════════════════════════════════════════
           Card Reveal
           ════════════════════════════════════════════ */
        const cards = document.querySelectorAll('.card');
        cards.forEach((c, i) => { c.style.transitionDelay = `${i * 0.12}s`; });

        const observer = new IntersectionObserver(entries => {
            entries.forEach(e => {
                if (e.isIntersecting) {
                    e.target.classList.add('visible');
                    observer.unobserve(e.target);
                }
            });
        }, { threshold: 0.08 });

        cards.forEach(c => observer.observe(c));

        /* ════════════════════════════════════════════
           Boot
           ════════════════════════════════════════════ */
        applyTheme(currentTheme);
        applyLang(currentLang);
        document.body.classList.add('loaded');
    </script>
</body>
</html>
